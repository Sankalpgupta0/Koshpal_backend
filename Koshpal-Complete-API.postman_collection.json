{
  "info": {
    "name": "Koshpal Backend - Complete API Collection",
    "description": "Complete API collection with 101 endpoints covering all features with comprehensive test scenarios:\n\nðŸ” AUTHENTICATION (11 endpoints)\n- Login (Admin/Employee/HR/Coach)\n- Session Management\n- Refresh Token with revocation\n- Password Change\n- Forgot Password Flow\n- Reset Password with Token Validation\n- Active Sessions Viewing\n- Logout from all devices\n\nðŸ¢ ADMIN PORTAL (14 endpoints)\n- Company Management (5 endpoints)\n- HR Management (4 endpoints)\n- Coach Management (5 endpoints)\n- Platform Statistics (1 endpoint)\n\nðŸ‘¥ HR PORTAL (13 endpoints)\n- Employee Bulk Upload with BullMQ\n- Upload Status Tracking\n- Employee Management\n- Dashboard Analytics (7 endpoints)\n- Profile Management (2 endpoints)\n\nðŸ‘¤ EMPLOYEE PORTAL (17 endpoints)\n- Profile Management (1 endpoint)\n- Financial Goals CRUD (4 endpoints)\n- Account Management (4 endpoints)\n- Transaction Management (4 endpoints)\n- Monthly Insights & Budget (4 endpoints)\n\nðŸŽ¯ COACH PORTAL (16 endpoints)\n- Slot Creation & Management (6 endpoints)\n- Weekly Schedule Management (3 endpoints)\n- Consultation Management (4 endpoints)\n- Profile Management (2 endpoints)\n- Consultation Completion (1 endpoint)\n\nðŸ“… EMPLOYEE CONSULTATIONS (8 endpoints)\n- Coach Listing & Filtering (1 endpoint)\n- Slot Availability (2 endpoints)\n- Aggregated Coach Slots (1 endpoint)\n- Booking with row-level locking (1 endpoint)\n- Consultation History & Stats (3 endpoints)\n\nðŸ’° FINANCE MODULE (17 endpoints)\n- Accounts (4 endpoints)\n- Transactions with filters (5 endpoints)\n- Bulk Transaction Operations (1 endpoint)\n- Insights & Analytics (7 endpoints)\n\nðŸ¥ HEALTH CHECKS (3 endpoints)\n- Application Health\n- Database Health\n- Redis Health\n\nAll endpoints include:\nâœ“ Success scenarios\nâœ“ Error scenarios (401, 400, 404, etc.)\nâœ“ Validation tests\nâœ“ Authorization tests\nâœ“ Auto token management\n\nðŸ”„ LATEST UPDATES (v3.3.0):\nâ€¢ Added complete coach profile management (2 endpoints)\nâ€¢ Added coach weekly schedule management (3 endpoints)\nâ€¢ Added consultation completion functionality (1 endpoint)\nâ€¢ Added coach slot deletion capability (1 endpoint)\nâ€¢ Updated endpoint count to reflect actual API coverage\nâ€¢ Total endpoints: 101 (all actual API endpoints covered)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "3.3.0",
    "_postman_id": "koshpal-backend-api-v3.3",
    "_exporter_id": "koshpal-2025"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "accountId",
      "value": "",
      "type": "string"
    },
    {
      "key": "transactionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "hrToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "employeeToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "employeeAccountId",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "coachToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "coachId",
      "value": "",
      "type": "string"
    },
    {
      "key": "slotId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "health"
              ]
            },
            "description": "Basic application health check"
          },
          "response": []
        },
        {
          "name": "Database Health Check",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/health/db",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "health",
                "db"
              ]
            },
            "description": "Check database connectivity"
          },
          "response": []
        },
        {
          "name": "Redis Health Check",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/health/redis",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "health",
                "redis"
              ]
            },
            "description": "Check Redis connectivity"
          },
          "response": []
        }
      ],
      "description": "Basic health check endpoint"
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login - Success (Admin)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', jsonData.refreshToken);",
                  "    pm.collectionVariables.set('adminToken', jsonData.accessToken);",
                  "    console.log('âœ“ Access token saved');",
                  "    console.log('âœ“ Refresh token saved');",
                  "    pm.test('Login successful', function() {",
                  "        pm.expect(jsonData).to.have.property('accessToken');",
                  "        pm.expect(jsonData).to.have.property('refreshToken');",
                  "        pm.expect(jsonData.user.role).to.eql('ADMIN');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Device-Id",
                "value": "postman-testing-device",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@koshpal.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Login with admin credentials. Tokens are automatically saved. Device ID is tracked for session management."
          },
          "response": []
        },
        {
          "name": "Login - Success (Employee)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('employeeToken', jsonData.accessToken);",
                  "    console.log('âœ“ Employee token saved');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"employee@company.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Login as employee user"
          },
          "response": []
        },
        {
          "name": "Login - Success (HR)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('hrToken', jsonData.accessToken);",
                  "    console.log('âœ“ HR token saved');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"hr@company.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Login as HR user"
          },
          "response": []
        },
        {
          "name": "Login - Success (Coach)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('coachToken', jsonData.accessToken);",
                  "    pm.collectionVariables.set('coachId', jsonData.user.id);",
                  "    console.log('âœ“ Coach token saved');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"coach@koshpal.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Login as coach user"
          },
          "response": []
        },
        {
          "name": "Login - Invalid Credentials",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 401', function() {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "pm.test('Error message present', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@koshpal.com\",\n  \"password\": \"wrongpassword\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Test login with invalid password - should return 401"
          },
          "response": []
        },
        {
          "name": "Login - Missing Fields",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@koshpal.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Test login without password - should return 400"
          },
          "response": []
        },
        {
          "name": "Login - Invalid Email Format",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"not-an-email\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Test login with invalid email format"
          },
          "response": []
        },
        {
          "name": "Login - Inactive User",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"inactive@test.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Test login with inactive user account - should return 401"
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status is 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test('User data returned', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('email');",
                  "    pm.expect(jsonData).to.have.property('role');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "me"
              ]
            },
            "description": "Get authenticated user information"
          },
          "response": []
        },
        {
          "name": "Get Current User - Unauthorized",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 401', function() {",
                  "    pm.response.to.have.status(401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "me"
              ]
            },
            "description": "Test without authentication token - should return 401"
          },
          "response": []
        },
        {
          "name": "Refresh Token - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                  "    console.log('âœ“ New access token saved');",
                  "    pm.test('Token refresh successful', function() {",
                  "        pm.expect(jsonData).to.have.property('accessToken');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/refresh",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "refresh"
              ]
            },
            "description": "Refresh access token using valid refresh token"
          },
          "response": []
        },
        {
          "name": "Refresh Token - Invalid Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 401', function() {",
                  "    pm.response.to.have.status(401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"invalid-token-here\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/refresh",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "refresh"
              ]
            },
            "description": "Try to refresh with invalid token - should return 401"
          },
          "response": []
        },
        {
          "name": "Refresh Token - After Logout (Revoked)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 401', function() {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "pm.test('Token should be revoked', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.include('Invalid');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/refresh",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "refresh"
              ]
            },
            "description": "Try to refresh after logout - should fail because token is revoked"
          },
          "response": []
        },
        {
          "name": "Get Active Sessions",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status is 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Sessions array returned', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "});",
                  "pm.test('Session has required fields', function() {",
                  "    var sessions = pm.response.json();",
                  "    if(sessions.length > 0) {",
                  "        pm.expect(sessions[0]).to.have.property('id');",
                  "        pm.expect(sessions[0]).to.have.property('deviceId');",
                  "        pm.expect(sessions[0]).to.have.property('ipAddress');",
                  "        pm.expect(sessions[0]).to.have.property('createdAt');",
                  "        pm.expect(sessions[0]).to.have.property('expiresAt');",
                  "    }",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/sessions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "sessions"
              ]
            },
            "description": "Get all active sessions for the current user. Shows device, location, and session info."
          },
          "response": []
        },
        {
          "name": "Get Active Sessions - Unauthorized",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 401', function() {",
                  "    pm.response.to.have.status(401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/sessions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "sessions"
              ]
            },
            "description": "Try to get sessions without authentication"
          },
          "response": []
        },
        {
          "name": "Logout - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status is 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Logout message received', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.include('Logged out');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/logout",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "logout"
              ]
            },
            "description": "Logout and revoke refresh token. Token will no longer be usable."
          },
          "response": []
        },
        {
          "name": "Logout - Without Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 400 or 401', function() {",
                  "    pm.expect(pm.response.code).to.be.oneOf([400, 401]);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/logout",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "logout"
              ]
            },
            "description": "Try to logout without providing refresh token"
          },
          "response": []
        },
        {
          "name": "Revoke All Sessions",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status is 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test('All sessions revoked', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.include('revoked');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/sessions/revoke-all",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "sessions",
                "revoke-all"
              ]
            },
            "description": "Revoke all active sessions (logout from all devices). Useful after password change or security incident."
          },
          "response": []
        },
        {
          "name": "Change Password - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status is 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "pm.test('Password changed and sessions revoked', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.include('Password changed');",
                  "    pm.expect(jsonData.message).to.include('sessions');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"password123\",\n  \"newPassword\": \"newPassword456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/me/password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "me",
                "password"
              ]
            },
            "description": "Change password. All sessions are automatically revoked for security."
          },
          "response": []
        },
        {
          "name": "Change Password - Wrong Current Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 401', function() {",
                  "    pm.response.to.have.status(401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"wrongpassword\",\n  \"newPassword\": \"newPassword456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/me/password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "me",
                "password"
              ]
            },
            "description": "Try to change password with wrong current password"
          },
          "response": []
        },
        {
          "name": "Change Password - Weak New Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"password123\",\n  \"newPassword\": \"123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/me/password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "me",
                "password"
              ]
            },
            "description": "Try to change to weak password (too short)"
          },
          "response": []
        },
        {
          "name": "Change Password - Missing Fields",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/me/password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "me",
                "password"
              ]
            },
            "description": "Try to change password without providing new password"
          },
          "response": []
        },
        {
          "name": "Forgot Password - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Should have success message', function() {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response).to.have.property('message');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@koshpal.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/forgot-password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "forgot-password"
              ]
            },
            "description": "Request password reset link. Always returns success to prevent email enumeration. Check email for reset link."
          },
          "response": []
        },
        {
          "name": "Forgot Password - Invalid Email",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 200 (prevents enumeration)', function() {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"nonexistent@example.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/forgot-password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "forgot-password"
              ]
            },
            "description": "Even for non-existent emails, returns success message for security (prevents email enumeration)"
          },
          "response": []
        },
        {
          "name": "Reset Password - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Should revoke all sessions', function() {",
                  "    const response = pm.response.json();",
                  "    pm.expect(response.message).to.include('sessions');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"RESET_TOKEN_FROM_EMAIL\",\n  \"newPassword\": \"NewSecurePass123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/reset-password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "reset-password"
              ]
            },
            "description": "Reset password using token from email. Replace RESET_TOKEN_FROM_EMAIL with actual token. All sessions are revoked after successful reset."
          },
          "response": []
        },
        {
          "name": "Reset Password - Invalid Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 401', function() {",
                  "    pm.response.to.have.status(401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"invalid-token-12345\",\n  \"newPassword\": \"NewSecurePass123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/reset-password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "reset-password"
              ]
            },
            "description": "Try to reset password with invalid/expired token"
          },
          "response": []
        },
        {
          "name": "Reset Password - Weak Password",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"VALID_TOKEN\",\n  \"newPassword\": \"123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/reset-password",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "reset-password"
              ]
            },
            "description": "Try to reset with weak password (less than 8 characters)"
          },
          "response": []
        }
      ],
      "description": "Authentication endpoints including login, session management, password changes, and password reset flow. All endpoints tested with success and failure scenarios."
    },
    {
      "name": "Admin Portal",
      "item": [
        {
          "name": "Companies",
          "item": [
            {
              "name": "Create Company",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"TechCorp Ltd\",\n  \"employeeLimit\": 150\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/companies",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "companies"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get All Companies",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/companies",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "companies"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Company by ID",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/companies/:companyId",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "companies",
                    ":companyId"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Company Status",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"status\": \"INACTIVE\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/companies/:companyId/status",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "companies",
                    ":companyId",
                    "status"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Company Limits",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"employeeLimit\": 200\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/companies/:companyId/limits",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "companies",
                    ":companyId",
                    "limits"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "HRs",
          "item": [
            {
              "name": "Create HR User",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"hr@techcorp.com\",\n  \"password\": \"password123\",\n  \"companyId\": \"company-id-here\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/hrs",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "hrs"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get All HRs",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/hrs",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "hrs"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get HR by ID",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/hrs/:hrId",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "hrs",
                    ":hrId"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update HR Status",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"status\": \"INACTIVE\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/hrs/:hrId/status",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "hrs",
                    ":hrId",
                    "status"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Coaches",
          "item": [
            {
              "name": "Get All Coaches",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Should return 200', function() {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    const coaches = pm.response.json();",
                      "    if (coaches.length > 0) {",
                      "        pm.collectionVariables.set('coachId', coaches[0].id);",
                      "        console.log('âœ“ Coach ID saved:', coaches[0].id);",
                      "    }",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/coaches",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "coaches"
                  ]
                },
                "description": "Get list of all coaches with their profiles and statistics. Returns both active and inactive coaches."
              },
              "response": []
            },
            {
              "name": "Get Coach Details",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Should return 200', function() {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    const coach = pm.response.json();",
                      "    pm.test('Should have coach profile', function() {",
                      "        pm.expect(coach).to.have.property('coachProfile');",
                      "        pm.expect(coach).to.have.property('statistics');",
                      "    });",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/coaches/{{coachId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "coaches",
                    "{{coachId}}"
                  ]
                },
                "description": "Get detailed information about a specific coach including user account, profile, and consultation statistics."
              },
              "response": []
            },
            {
              "name": "Deactivate Coach",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Should return 200', function() {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    const response = pm.response.json();",
                      "    pm.test('Coach should be inactive', function() {",
                      "        pm.expect(response.isActive).to.be.false;",
                      "    });",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"Performance issues\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/coaches/{{coachId}}/deactivate",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "coaches",
                    "{{coachId}}",
                    "deactivate"
                  ]
                },
                "description": "Deactivate a coach account. Coach will not be able to log in or create new slots. Existing consultations are NOT automatically cancelled."
              },
              "response": []
            },
            {
              "name": "Reactivate Coach",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Should return 200', function() {",
                      "    pm.response.to.have.status(200);",
                      "});",
                      "",
                      "if (pm.response.code === 200) {",
                      "    const response = pm.response.json();",
                      "    pm.test('Coach should be active', function() {",
                      "        pm.expect(response.isActive).to.be.true;",
                      "    });",
                      "}"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PATCH",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/coaches/{{coachId}}/reactivate",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "coaches",
                    "{{coachId}}",
                    "reactivate"
                  ]
                },
                "description": "Reactivate a previously deactivated coach account. Coach can log in and access the system again."
              },
              "response": []
            },
            {
              "name": "Deactivate Coach - Not Found",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Should return 404', function() {",
                      "    pm.response.to.have.status(404);",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"Test\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/admin/coaches/00000000-0000-0000-0000-000000000000/deactivate",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "admin",
                    "coaches",
                    "00000000-0000-0000-0000-000000000000",
                    "deactivate"
                  ]
                },
                "description": "Try to deactivate non-existent coach"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Get Platform Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/admin/stats",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "admin",
                "stats"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "HR - Employee Management",
      "item": [
        {
          "name": "Upload Employees - Excel File",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [],
                  "description": "Excel file (.xlsx) with columns: email, full_name, employee_code, phone"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/employees/upload",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "employees",
                "upload"
              ]
            },
            "description": "Upload Excel file with employee data. Requires HR role. Processes in background via BullMQ.\n\nRequired columns:\n- email (required)\n- full_name (required)\n- employee_code (optional)\n- phone (optional)"
          },
          "response": []
        },
        {
          "name": "Upload Employees - No File",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": []
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/employees/upload",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "employees",
                "upload"
              ]
            },
            "description": "Test without file - should return 400"
          },
          "response": []
        },
        {
          "name": "Upload Employees - Wrong File Type",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": [],
                  "description": "Upload non-.xlsx file (e.g., .csv, .txt)"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/employees/upload",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "employees",
                "upload"
              ]
            },
            "description": "Test with wrong file type - should return 400"
          },
          "response": []
        },
        {
          "name": "Get All Uploads",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/uploads",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "uploads"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Upload Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/uploads/:batchId",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "uploads",
                ":batchId"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get All Employees",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/employees",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "employees"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Employee by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/employees/:employeeId",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "employees",
                ":employeeId"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Employee Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isActive\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/employees/:employeeId/status",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "employees",
                ":employeeId",
                "status"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Company Insights Summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/insights/summary",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "insights",
                "summary"
              ]
            },
            "description": "Aggregated financial insights for all employees in company"
          },
          "response": []
        },
        {
          "name": "Get Departments List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/employees/departments/list",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "employees",
                "departments",
                "list"
              ]
            },
            "description": "Get list of all unique departments in the company"
          },
          "response": []
        },
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/dashboard/stats",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "dashboard",
                "stats"
              ]
            },
            "description": "Get key statistics for HR dashboard including employee counts, financial health, and program participation"
          },
          "response": []
        },
        {
          "name": "Get Financial Health Distribution",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/dashboard/financial-health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "dashboard",
                "financial-health"
              ]
            },
            "description": "Get distribution of employees by financial health status (healthy, moderate, at-risk)"
          },
          "response": []
        },
        {
          "name": "Get Participation by Department",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/dashboard/participation-by-department",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "dashboard",
                "participation-by-department"
              ]
            },
            "description": "Get program participation statistics broken down by department"
          },
          "response": []
        },
        {
          "name": "Get Dashboard Alerts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/dashboard/alerts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "dashboard",
                "alerts"
              ]
            },
            "description": "Get important alerts and notifications for HR dashboard"
          },
          "response": []
        },
        {
          "name": "Get HR Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/profile",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "profile"
              ]
            },
            "description": "Get HR's own profile information"
          },
          "response": []
        },
        {
          "name": "Update HR Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"John Smith\",\n  \"phone\": \"+1234567899\",\n  \"designation\": \"Senior HR Manager\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/hr/profile",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "hr",
                "profile"
              ]
            },
            "description": "Update HR's profile information"
          },
          "response": []
        }
      ],
      "description": "HR module for employee bulk upload, management, and company-wide analytics"
    },
    {
      "name": "Employee Portal",
      "item": [
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Financial Goals",
          "item": [
            {
              "name": "Get All Goals",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/goals",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "goals"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Create Goal",
              "request": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"goalName\": \"Vacation\",\n  \"goalAmount\": 50000,\n  \"targetDate\": \"2025-12-31\",\n  \"currentAmount\": 10000,\n  \"icon\": \"\\u2708\\ufe0f\",\n  \"color\": \"#4CAF50\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/goals",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "goals"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Goal",
              "request": {
                "method": "PUT",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"goalName\": \"Vacation Updated\",\n  \"currentAmount\": 20000\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/goals/:goalId",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "goals",
                    ":goalId"
                  ],
                  "variable": [
                    {
                      "key": "goalId",
                      "value": ""
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete Goal",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/goals/:goalId",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "goals",
                    ":goalId"
                  ],
                  "variable": [
                    {
                      "key": "goalId",
                      "value": ""
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"John Doe\",\n  \"phone\": \"+91 98765 43210\",\n  \"dateOfBirth\": \"1990-01-15\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Accounts",
          "item": [
            {
              "name": "Create Account",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"type\": \"BANK\",\n  \"provider\": \"HDFC Bank\",\n  \"balance\": 50000,\n  \"maskedAccountNo\": \"****1234\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/accounts",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "accounts"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get All Accounts",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/accounts",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "accounts"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Account",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"balance\": 75000\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/accounts/:accountId",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "accounts",
                    ":accountId"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete Account",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/accounts/:accountId",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "accounts",
                    ":accountId"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Transactions",
          "item": [
            {
              "name": "Create Transaction",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"accountId\": \"{{employeeAccountId}}\",\n  \"amount\": 5000,\n  \"type\": \"INCOME\",\n  \"category\": \"SALARY\",\n  \"source\": \"MANUAL\",\n  \"description\": \"Monthly salary\",\n  \"transactionDate\": \"2024-01-15T10:00:00Z\"\n}\n\n// Note: accountId is now OPTIONAL\n// Can omit accountId for cash transactions\n// Can provide bank metadata for auto-account creation"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/transactions",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "transactions"
                  ]
                },
                "description": "Create a transaction. accountId is now optional - transactions can exist without accounts or auto-create accounts from metadata."
              },
              "response": []
            },
            {
              "name": "Get All Transactions",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/transactions",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "transactions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Transaction by ID",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/transactions/:transactionId",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "transactions",
                    ":transactionId"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete Transaction",
              "request": {
                "method": "DELETE",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/transactions/:transactionId",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "transactions",
                    ":transactionId"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Insights",
          "item": [
            {
              "name": "Get Latest Summary",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/insights/summary",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "insights",
                    "summary"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Category Breakdown",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/insights/categories?month=1&year=2024",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "insights",
                    "categories"
                  ],
                  "query": [
                    {
                      "key": "month",
                      "value": "1"
                    },
                    {
                      "key": "year",
                      "value": "2024"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Spending Trends",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/employee/insights/trend?months=6",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "employee",
                    "insights",
                    "trend"
                  ],
                  "query": [
                    {
                      "key": "months",
                      "value": "6"
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        }
      ]
    },
    {
      "name": "Coach Portal",
      "item": [
        {
          "name": "Create Availability Slots",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData && jsonData.length > 0) {",
                  "        pm.collectionVariables.set('slotId', jsonData[0].id);",
                  "        console.log('\u2713 Slot ID saved:', jsonData[0].id);",
                  "    }",
                  "    pm.test('Slots created', function() {",
                  "        pm.expect(jsonData).to.be.an('array');",
                  "        pm.expect(jsonData.length).to.be.greaterThan(0);",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"date\": \"2025-12-20\",\n  \"timeSlots\": [\n    {\n      \"startTime\": \"09:00\",\n      \"endTime\": \"10:00\"\n    },\n    {\n      \"startTime\": \"10:00\",\n      \"endTime\": \"11:00\"\n    },\n    {\n      \"startTime\": \"14:00\",\n      \"endTime\": \"15:00\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/slots",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "slots"
              ]
            },
            "description": "Create availability slots for coach. Each slot must be exactly 1 hour. System validates for overlapping slots."
          },
          "response": []
        },
        {
          "name": "Get Coach Slots",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/slots?date=2025-12-20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "slots"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2025-12-20",
                  "description": "Filter by specific date (YYYY-MM-DD)"
                }
              ]
            },
            "description": "Get all slots for the authenticated coach. Optional date filter."
          },
          "response": []
        },
        {
          "name": "Get All Coach Slots",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/slots",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "slots"
              ]
            },
            "description": "Get all slots for the authenticated coach (no date filter)"
          },
          "response": []
        },
        {
          "name": "Get Consultations - All",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/consultations",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "consultations"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Consultations - Past",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/consultations?filter=past",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "past"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Consultations - Upcoming",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/consultations?filter=upcoming",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "upcoming"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Consultations - This Month",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/consultations?filter=thisMonth",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "thisMonth"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Consultation Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/consultations/stats",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "consultations",
                "stats"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Consultation (Coach)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Consultation cancelled by coach', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.status).to.equal('CANCELLED_BY_COACH');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cancellationReason\": \"Personal emergency - need to reschedule\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/consultations/:id/cancel",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "consultations",
                ":id",
                "cancel"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "Consultation ID to cancel"
                }
              ]
            },
            "description": "Cancel a consultation as coach. Can only cancel consultations assigned to this coach. Must be SCHEDULED status."
          },
          "response": []
        },
        {
          "name": "Cancel Consultation (Coach) - Not Own Consultation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 403 or 404', function() {",
                  "    pm.expect([403, 404]).to.include(pm.response.code);",
                  "});",
                  "",
                  "pm.test('Error when cancelling another coach\\'s consultation', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.exist;",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cancellationReason\": \"Test cancellation\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/consultations/:id/cancel",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "consultations",
                ":id",
                "cancel"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{otherCoachConsultationId}}",
                  "description": "ID of consultation belonging to different coach"
                }
              ]
            },
            "description": "Test error when coach tries to cancel consultation not assigned to them"
          },
          "response": []
        }
      ],
      "description": "Coach slot management - Create and view availability slots"
    },
    {
      "name": "Coach Weekly Schedule",
      "item": [
        {
          "name": "Save Weekly Availability",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Weekly availability saved', function() {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "    pm.expect(jsonData).to.have.property('slotsCreated');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timezone\": \"Asia/Kolkata\",\n  \"weeklySchedule\": {\n    \"monday\": [\n      {\"startTime\": \"09:00\", \"endTime\": \"10:00\"},\n      {\"startTime\": \"14:00\", \"endTime\": \"15:00\"}\n    ],\n    \"tuesday\": [\n      {\"startTime\": \"10:00\", \"endTime\": \"11:00\"},\n      {\"startTime\": \"15:00\", \"endTime\": \"16:00\"}\n    ],\n    \"wednesday\": [\n      {\"startTime\": \"09:00\", \"endTime\": \"10:00\"}\n    ],\n    \"thursday\": [\n      {\"startTime\": \"14:00\", \"endTime\": \"15:00\"}\n    ],\n    \"friday\": [\n      {\"startTime\": \"10:00\", \"endTime\": \"11:00\"}\n    ]\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/slots",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "slots"
              ]
            },
            "description": "Save coach's weekly availability schedule. Generates slots for future weeks based on the weekly pattern. Deletes existing future AVAILABLE slots before regenerating."
          },
          "response": []
        },
        {
          "name": "Get Weekly Schedule",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/slots/weekly?weeks=2",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "slots",
                "weekly"
              ],
              "query": [
                {
                  "key": "weeks",
                  "value": "2",
                  "description": "Number of weeks to include (default: 1)"
                }
              ]
            },
            "description": "Get coach's availability grouped by weekday for UI display. Returns slots for current week and optionally future weeks."
          },
          "response": []
        },
        {
          "name": "Delete Slot",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Slot deleted successfully', function() {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/slots/{{slotId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "slots",
                "{{slotId}}"
              ]
            },
            "description": "Delete a specific availability slot. Only AVAILABLE slots can be deleted. BOOKED slots cannot be removed."
          },
          "response": []
        }
      ],
      "description": "Coach weekly schedule management"
    },
    {
      "name": "Coach Profile",
      "item": [
        {
          "name": "Get Coach Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/profile",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "profile"
              ]
            },
            "description": "Get coach's profile information including timezone setting."
          },
          "response": []
        },
        {
          "name": "Update Coach Timezone",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Timezone updated', function() {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('timezone');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timezone\": \"America/New_York\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/profile/timezone",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "profile",
                "timezone"
              ]
            },
            "description": "Update coach's timezone setting for availability scheduling."
          },
          "response": []
        }
      ],
      "description": "Coach profile management"
    },
    {
      "name": "Coach Consultation Management",
      "item": [
        {
          "name": "Complete Consultation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Consultation completed', function() {",
                  "    pm.response.to.have.status(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.equal('COMPLETED');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/consultations/:id/complete",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "consultations",
                ":id",
                "complete"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{consultationId}}",
                  "description": "Consultation ID to complete"
                }
              ]
            },
            "description": "Mark a consultation as completed after the session has ended. Only the coach who conducted the session can mark it as completed."
          },
          "response": []
        }
      ],
      "description": "Coach consultation completion management"
    },
    {
      "name": "Employee Consultations",
      "item": [
        {
          "name": "Get All Coaches",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    if (jsonData && jsonData.length > 0) {",
                  "        pm.collectionVariables.set('coachId', jsonData[0].userId);",
                  "        console.log('\u2713 Coach ID saved:', jsonData[0].userId);",
                  "    }",
                  "    pm.test('Coaches retrieved', function() {",
                  "        pm.expect(jsonData).to.be.an('array');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/coaches",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "coaches"
              ]
            },
            "description": "Get list of all active coaches with their profiles (expertise, bio, etc.)"
          },
          "response": []
        },
        {
          "name": "Get Coach Available Slots",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/coaches/{{coachId}}/slots?date=2025-12-20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "coaches",
                "{{coachId}}",
                "slots"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2025-12-20",
                  "description": "Filter by specific date (YYYY-MM-DD)"
                }
              ]
            },
            "description": "Get available slots for a specific coach. Only returns AVAILABLE status slots. Optional date filter."
          },
          "response": []
        },
        {
          "name": "Get Aggregated Coach Slots",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    const coaches = pm.response.json();",
                  "    pm.test('Should return array of coaches with slots', function() {",
                  "        pm.expect(coaches).to.be.an('array');",
                  "        if (coaches.length > 0) {",
                  "            pm.expect(coaches[0]).to.have.property('coachId');",
                  "            pm.expect(coaches[0]).to.have.property('coachName');",
                  "            pm.expect(coaches[0]).to.have.property('slots');",
                  "            pm.expect(coaches[0].slots).to.be.an('array');",
                  "        }",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/coaches/slots?date=2025-12-30",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "coaches",
                "slots"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2025-12-30",
                  "description": "Date in YYYY-MM-DD format (required)"
                }
              ]
            },
            "description": "OPTIMIZED: Get all active coaches with their available slots for a given date in a single request. Prevents throttling issues when loading coach availability screens. Uses single database query with proper indexing."
          },
          "response": []
        },
        {
          "name": "Get Aggregated Coach Slots - Invalid Date",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/coaches/slots?date=invalid-date",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "coaches",
                "slots"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "invalid-date"
                }
              ]
            },
            "description": "Test with invalid date format"
          },
          "response": []
        },
        {
          "name": "Get Aggregated Coach Slots - Missing Date",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Should return 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/coaches/slots",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "coaches",
                "slots"
              ]
            },
            "description": "Test without date parameter (required)"
          },
          "response": []
        },
        {
          "name": "Book Consultation",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.test('Consultation booked', function() {",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "        pm.expect(jsonData).to.have.property('meetingLink');",
                  "        pm.expect(jsonData.status).to.equal('CONFIRMED');",
                  "    });",
                  "    console.log('\u2713 Booking ID:', jsonData.id);",
                  "    console.log('\u2713 Meeting Link:', jsonData.meetingLink);",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"slotId\": \"{{slotId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/book",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                "book"
              ]
            },
            "description": "Book a consultation with a coach using an available slot ID. Returns booking details with meeting link. Triggers email notifications to both coach and employee."
          },
          "response": []
        },
        {
          "name": "Get My Consultations - All",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ]
            },
            "description": "Get all consultations for logged-in employee with full details (coach info, slot time, meeting link, status)"
          },
          "response": []
        },
        {
          "name": "Get My Consultations - Past",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations?filter=past",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "past",
                  "description": "Filter for past consultations (end time < now)"
                }
              ]
            },
            "description": "Get all past consultations (already completed) for logged-in employee"
          },
          "response": []
        },
        {
          "name": "Get My Consultations - Upcoming",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations?filter=upcoming",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "upcoming",
                  "description": "Filter for upcoming consultations (start time >= now)"
                }
              ]
            },
            "description": "Get all upcoming consultations for logged-in employee"
          },
          "response": []
        },
        {
          "name": "Get My Consultations - This Week",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations?filter=thisWeek",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "thisWeek",
                  "description": "Filter for consultations this week (Sun-Sat)"
                }
              ]
            },
            "description": "Get consultations for current week (Sunday to Saturday) for logged-in employee"
          },
          "response": []
        },
        {
          "name": "Get My Consultations - This Month",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations?filter=thisMonth",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "thisMonth",
                  "description": "Filter for consultations this month"
                }
              ]
            },
            "description": "Get consultations for current month for logged-in employee"
          },
          "response": []
        },
        {
          "name": "Get My Consultation Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/stats",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                "stats"
              ]
            },
            "description": "Get consultation statistics for logged-in employee: total, past, upcoming, thisWeek, thisMonth, minutesBooked, confirmed, cancelled"
          },
          "response": []
        },
        {
          "name": "Get My Latest Consultation",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/latest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                "latest"
              ]
            },
            "description": "Get the most recently booked consultation for logged-in employee. Returns null if no consultations exist."
          },
          "response": []
        },
        {
          "name": "Get Consultation Details",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Consultation details returned', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('consultationDate');",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "    pm.expect(jsonData).to.have.property('coach');",
                  "    pm.expect(jsonData.coach).to.have.property('name');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/:id",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "Consultation ID"
                }
              ]
            },
            "description": "Get detailed information about a specific consultation"
          },
          "response": []
        },
        {
          "name": "Get Consultation Details - Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', function() {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test('Error message for consultation not found', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.include('not found');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/999999",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                "999999"
              ]
            },
            "description": "Test 404 error for non-existent consultation"
          },
          "response": []
        },
        {
          "name": "Cancel Consultation (Employee)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function() {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Consultation cancelled successfully', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.status).to.equal('CANCELLED_BY_EMPLOYEE');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cancellationReason\": \"Schedule conflict - unable to attend\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/:id/cancel",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                ":id",
                "cancel"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "1",
                  "description": "Consultation ID to cancel"
                }
              ]
            },
            "description": "Cancel a consultation as employee. Rate limit: 10 cancellations per hour. Must be SCHEDULED status. Cannot cancel within 2 hours of consultation time."
          },
          "response": []
        },
        {
          "name": "Cancel Consultation - Already Cancelled",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error for already cancelled consultation', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.include('already cancelled');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cancellationReason\": \"Test cancellation\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/:id/cancel",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                ":id",
                "cancel"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{cancelledConsultationId}}",
                  "description": "ID of already cancelled consultation"
                }
              ]
            },
            "description": "Test error when trying to cancel already cancelled consultation"
          },
          "response": []
        },
        {
          "name": "Cancel Consultation - Too Late",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', function() {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error for late cancellation', function() {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.message).to.include('2 hours');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cancellationReason\": \"Emergency\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/:id/cancel",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                ":id",
                "cancel"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "{{upcomingConsultationId}}",
                  "description": "ID of consultation less than 2 hours away"
                }
              ]
            },
            "description": "Test error when trying to cancel within 2 hours of consultation time"
          },
          "response": []
        }
      ],
      "description": "Employee consultation booking and viewing - List coaches, view slots, book consultations, view booked consultations with filters, and get statistics"
    },
    {
      "name": "Authorization Testing",
      "item": [
        {
          "name": "Setup - Login as HR",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('hrToken', jsonData.accessToken);",
                  "    console.log('\u2713 HR token saved');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"hr@koshpal.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Login as HR user to test HR restrictions"
          },
          "response": []
        },
        {
          "name": "Setup - Login as Employee",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('employeeToken', jsonData.accessToken);",
                  "    console.log('\u2713 Employee token saved');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"employee@koshpal.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Login as Employee user to test employee access"
          },
          "response": []
        },
        {
          "name": "Setup - Login as Coach",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('coachToken', jsonData.accessToken);",
                  "    console.log('\u2713 Coach token saved');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"coach@koshpal.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Login as Coach user to test coach access and manage slots"
          },
          "response": []
        },
        {
          "name": "Setup - Login as Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('adminToken', jsonData.accessToken);",
                  "    console.log('\u2713 Admin token saved');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@koshpal.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            },
            "description": "Login as Admin to test full access"
          },
          "response": []
        },
        {
          "name": "HR Blocked - Get Accounts",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('HR blocked from accounts', function() {",
                  "    pm.expect(pm.response.code).to.equal(403);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{hrToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "accounts"
              ]
            },
            "description": "HR should be blocked from accessing accounts - expects 403 Forbidden"
          },
          "response": []
        },
        {
          "name": "HR Blocked - Create Account",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('HR blocked from creating account', function() {",
                  "    pm.expect(pm.response.code).to.equal(403);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{hrToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"BANK\",\n  \"provider\": \"Test Bank\",\n  \"maskedAccountNo\": \"****1234\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "accounts"
              ]
            },
            "description": "HR should be blocked from creating accounts - expects 403 Forbidden"
          },
          "response": []
        },
        {
          "name": "HR Blocked - Get Transactions",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('HR blocked from transactions', function() {",
                  "    pm.expect(pm.response.code).to.equal(403);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{hrToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "transactions"
              ]
            },
            "description": "HR should be blocked from accessing transactions - expects 403 Forbidden"
          },
          "response": []
        },
        {
          "name": "HR Blocked - Create Transaction",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('HR blocked from creating transaction', function() {",
                  "    pm.expect(pm.response.code).to.equal(403);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{hrToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountId\": \"test-account-id\",\n  \"amount\": 1000,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Food\",\n  \"source\": \"MANUAL\",\n  \"transactionDate\": \"2025-12-16\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "transactions"
              ]
            },
            "description": "HR should be blocked from creating transactions - expects 403 Forbidden"
          },
          "response": []
        },
        {
          "name": "HR Blocked - Get Insights",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('HR blocked from insights', function() {",
                  "    pm.expect(pm.response.code).to.equal(403);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{hrToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "insights",
                "monthly"
              ]
            },
            "description": "HR should be blocked from accessing insights - expects 403 Forbidden"
          },
          "response": []
        },
        {
          "name": "HR Blocked - Get Latest Summary",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('HR blocked from latest summary', function() {",
                  "    pm.expect(pm.response.code).to.equal(403);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{hrToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly/latest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "insights",
                "monthly",
                "latest"
              ]
            },
            "description": "HR should be blocked from latest summary - expects 403 Forbidden"
          },
          "response": []
        },
        {
          "name": "HR Blocked - Generate Summary",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('HR blocked from generating summary', function() {",
                  "    pm.expect(pm.response.code).to.equal(403);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{hrToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"month\": 12,\n  \"year\": 2025\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/generate",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "insights",
                "generate"
              ]
            },
            "description": "HR should be blocked from generating summaries - expects 403 Forbidden"
          },
          "response": []
        },
        {
          "name": "Employee - Get Own Accounts",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Employee can access own accounts', function() {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    console.log('\u2713 Employee accessed own accounts:', jsonData.length, 'accounts');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{employeeToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "accounts"
              ]
            },
            "description": "Employee should access only their own accounts - expects 200 with filtered data"
          },
          "response": []
        },
        {
          "name": "Employee - Get Own Transactions",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Employee can access own transactions', function() {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    console.log('\u2713 Employee accessed own transactions:', jsonData.length, 'transactions');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{employeeToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "transactions"
              ]
            },
            "description": "Employee should access only their own transactions - expects 200 with filtered data"
          },
          "response": []
        },
        {
          "name": "Employee - Get Own Insights",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Employee can access own insights', function() {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    console.log('\u2713 Employee accessed own insights:', jsonData.length, 'summaries');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{employeeToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "insights",
                "monthly"
              ]
            },
            "description": "Employee should access only their own insights - expects 200 with filtered data"
          },
          "response": []
        },
        {
          "name": "Employee - Create Account",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Employee can create account', function() {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.collectionVariables.set('employeeAccountId', jsonData.id);",
                  "    console.log('\u2713 Employee created account:', jsonData.id);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{employeeToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"WALLET\",\n  \"provider\": \"Test Wallet\",\n  \"maskedAccountNo\": \"****5678\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "accounts"
              ]
            },
            "description": "Employee should create account with auto-injected userId and companyId"
          },
          "response": []
        },
        {
          "name": "Admin - Get All Accounts",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Admin can access all accounts', function() {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    console.log('\u2713 Admin accessed all accounts:', jsonData.length, 'total accounts');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "accounts"
              ]
            },
            "description": "Admin should access all accounts across all companies - no filtering"
          },
          "response": []
        },
        {
          "name": "Admin - Get All Transactions",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Admin can access all transactions', function() {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    console.log('\u2713 Admin accessed all transactions:', jsonData.length, 'total transactions');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "transactions"
              ]
            },
            "description": "Admin should access all transactions across all companies - no filtering"
          },
          "response": []
        },
        {
          "name": "Admin - Get All Insights",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Admin can access all insights', function() {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.be.an('array');",
                  "    console.log('\u2713 Admin accessed all insights:', jsonData.length, 'total summaries');",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{adminToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "insights",
                "monthly"
              ]
            },
            "description": "Admin should access all insights across all companies - no filtering"
          },
          "response": []
        },
        {
          "name": "Unauthorized - No Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Request without token fails', function() {",
                  "    pm.expect(pm.response.code).to.equal(401);",
                  "});"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "accounts"
              ]
            },
            "description": "Request without authentication token should return 401 Unauthorized"
          },
          "response": []
        }
      ],
      "description": "Comprehensive authorization testing - HR blocking, employee isolation, and admin access"
    },
    {
      "name": "Accounts",
      "item": [
        {
          "name": "Create Account - Bank",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('accountId', jsonData.id);",
                  "    console.log('\u2713 Account ID saved:', jsonData.id);",
                  "    pm.test('Account created', function() {",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "        pm.expect(jsonData.type).to.equal('BANK');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"BANK\",\n  \"provider\": \"HDFC Bank\",\n  \"maskedAccountNo\": \"****1234\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts"
              ]
            },
            "description": "Create a bank account. Account ID is auto-saved to collection variables."
          },
          "response": []
        },
        {
          "name": "Create Account - Cash",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"CASH\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts"
              ]
            },
            "description": "Create a cash account (minimal required fields)"
          },
          "response": []
        },
        {
          "name": "Create Account - Wallet",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"WALLET\",\n  \"provider\": \"PayPal\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts"
              ]
            },
            "description": "Create a digital wallet account"
          },
          "response": []
        },
        {
          "name": "Create Account - Credit Card",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"CREDIT_CARD\",\n  \"provider\": \"Visa\",\n  \"maskedAccountNo\": \"****5678\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts"
              ]
            },
            "description": "Create a credit card account"
          },
          "response": []
        },
        {
          "name": "Create Account - Invalid Type",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"type\": \"INVALID_TYPE\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts"
              ]
            },
            "description": "Test with invalid account type - should return 400 validation error"
          },
          "response": []
        },
        {
          "name": "Get All Accounts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts"
              ]
            },
            "description": "Get all accounts for authenticated user with transaction counts"
          },
          "response": []
        },
        {
          "name": "Get Account by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts/{{accountId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts",
                "{{accountId}}"
              ]
            },
            "description": "Get specific account details by ID"
          },
          "response": []
        },
        {
          "name": "Get Account - Not Found",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts/00000000-0000-0000-0000-000000000000",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts",
                "00000000-0000-0000-0000-000000000000"
              ]
            },
            "description": "Test with non-existent account ID - should return 404"
          },
          "response": []
        },
        {
          "name": "Delete Account",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts/{{accountId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts",
                "{{accountId}}"
              ]
            },
            "description": "Delete account (only allowed if no transactions exist)"
          },
          "response": []
        },
        {
          "name": "Delete Account - With Transactions",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/accounts/{{accountId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts",
                "{{accountId}}"
              ]
            },
            "description": "Try to delete account with transactions - should return 400 error with protection message"
          },
          "response": []
        }
      ],
      "description": "Account management endpoints - Create, Read, Delete accounts"
    },
    {
      "name": "Transactions",
      "item": [
        {
          "name": "Create Transaction - Income",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.collectionVariables.set('transactionId', jsonData.id);",
                  "    console.log('\u2713 Transaction ID saved:', jsonData.id);",
                  "    pm.test('Transaction created', function() {",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "        pm.expect(jsonData.type).to.equal('INCOME');",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 50000,\n  \"type\": \"INCOME\",\n  \"category\": \"Salary\",\n  \"subCategory\": \"Monthly Salary\",\n  \"source\": \"BANK\",\n  \"description\": \"December 2025 salary\",\n  \"transactionDate\": \"2025-12-01T00:00:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "Create an income transaction. Transaction ID is auto-saved. Triggers monthly summary generation."
          },
          "response": []
        },
        {
          "name": "Create Transaction - Expense (Food)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 2500,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Food\",\n  \"subCategory\": \"Groceries\",\n  \"source\": \"BANK\",\n  \"description\": \"Weekly grocery shopping\",\n  \"transactionDate\": \"2025-12-15T10:30:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "Create food expense transaction"
          },
          "response": []
        },
        {
          "name": "Create Transaction - Expense (Transportation)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 1500,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Transportation\",\n  \"source\": \"MOBILE\",\n  \"description\": \"Uber rides for the week\",\n  \"transactionDate\": \"2025-12-14T18:00:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "Create transportation expense with MOBILE source"
          },
          "response": []
        },
        {
          "name": "Create Transaction - Manual Entry",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 500,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Entertainment\",\n  \"source\": \"MANUAL\",\n  \"transactionDate\": \"2025-12-13T20:00:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "Create manual transaction entry with minimal fields"
          },
          "response": []
        },
        {
          "name": "Create Transaction - Bills",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 3500,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Bills\",\n  \"subCategory\": \"Utilities\",\n  \"source\": \"BANK\",\n  \"description\": \"Electricity and water bill\",\n  \"transactionDate\": \"2025-12-05T00:00:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "Create bills expense transaction"
          },
          "response": []
        },
        {
          "name": "Create Transaction - Invalid Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountId\": \"00000000-0000-0000-0000-000000000000\",\n  \"amount\": 1000,\n  \"type\": \"INCOME\",\n  \"category\": \"Test\",\n  \"source\": \"MANUAL\",\n  \"transactionDate\": \"2025-12-15T00:00:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "Test with non-existent account - should return 403 forbidden"
          },
          "response": []
        },
        {
          "name": "Create Transaction - Invalid Type",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 1000,\n  \"type\": \"CREDIT\",\n  \"category\": \"Test\",\n  \"source\": \"MANUAL\",\n  \"transactionDate\": \"2025-12-15T00:00:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "Test with invalid type (must be INCOME or EXPENSE) - should return 400"
          },
          "response": []
        },
        {
          "name": "Bulk Create Transactions - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    console.log('\u2713 Bulk transactions created:', jsonData.count);",
                  "    pm.test('Bulk transactions created successfully', function() {",
                  "        pm.expect(jsonData).to.have.property('count');",
                  "        pm.expect(jsonData).to.have.property('transactions');",
                  "        pm.expect(jsonData.transactions).to.be.an('array');",
                  "        pm.expect(jsonData.count).to.equal(jsonData.transactions.length);",
                  "    });",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactions\": [\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 5000,\n      \"type\": \"INCOME\",\n      \"category\": \"Freelance\",\n      \"subCategory\": \"Project Payment\",\n      \"source\": \"BANK\",\n      \"description\": \"Website development project\",\n      \"transactionDate\": \"2025-12-10T00:00:00.000Z\"\n    },\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 1200,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Shopping\",\n      \"subCategory\": \"Clothing\",\n      \"source\": \"MOBILE\",\n      \"description\": \"Winter jacket\",\n      \"transactionDate\": \"2025-12-11T00:00:00.000Z\"\n    },\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 800,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Food\",\n      \"subCategory\": \"Dining\",\n      \"source\": \"BANK\",\n      \"description\": \"Restaurant dinner\",\n      \"transactionDate\": \"2025-12-12T00:00:00.000Z\"\n    },\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 2500,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Bills\",\n      \"subCategory\": \"Internet\",\n      \"source\": \"BANK\",\n      \"description\": \"Monthly internet bill\",\n      \"transactionDate\": \"2025-12-05T00:00:00.000Z\"\n    },\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 500,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Transportation\",\n      \"source\": \"MANUAL\",\n      \"description\": \"Fuel\",\n      \"transactionDate\": \"2025-12-13T00:00:00.000Z\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/bulk",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "bulk"
              ]
            },
            "description": "Create multiple transactions in a single request. Auto-triggers monthly summary generation for unique month-year combinations."
          },
          "response": []
        },
        {
          "name": "Bulk Create Transactions - Mixed Accounts",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactions\": [\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 3000,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Healthcare\",\n      \"subCategory\": \"Pharmacy\",\n      \"source\": \"BANK\",\n      \"description\": \"Monthly medications\",\n      \"transactionDate\": \"2025-11-15T00:00:00.000Z\"\n    },\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 15000,\n      \"type\": \"INCOME\",\n      \"category\": \"Investment\",\n      \"subCategory\": \"Dividends\",\n      \"source\": \"BANK\",\n      \"description\": \"Quarterly dividends\",\n      \"transactionDate\": \"2025-11-20T00:00:00.000Z\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/bulk",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "bulk"
              ]
            },
            "description": "Create bulk transactions across different months - triggers multiple summary generations"
          },
          "response": []
        },
        {
          "name": "Bulk Create - Empty Array",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactions\": []\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/bulk",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "bulk"
              ]
            },
            "description": "Test with empty array - should return 400 validation error"
          },
          "response": []
        },
        {
          "name": "Bulk Create - Invalid Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactions\": [\n    {\n      \"accountId\": \"00000000-0000-0000-0000-000000000000\",\n      \"amount\": 1000,\n      \"type\": \"INCOME\",\n      \"category\": \"Test\",\n      \"source\": \"MANUAL\",\n      \"transactionDate\": \"2025-12-15T00:00:00.000Z\"\n    },\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 500,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Test\",\n      \"source\": \"MANUAL\",\n      \"transactionDate\": \"2025-12-15T00:00:00.000Z\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/bulk",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "bulk"
              ]
            },
            "description": "Test with invalid account ID in bulk - should return 400 with detailed error message"
          },
          "response": []
        },
        {
          "name": "Bulk Create - Invalid Transaction Data",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactions\": [\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 1000,\n      \"type\": \"INVALID_TYPE\",\n      \"category\": \"Test\",\n      \"source\": \"MANUAL\",\n      \"transactionDate\": \"2025-12-15T00:00:00.000Z\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/bulk",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "bulk"
              ]
            },
            "description": "Test with invalid transaction type in array - should return 400 validation error"
          },
          "response": []
        },
        {
          "name": "âœ¨ Create Transaction - No Account (NEW)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.test('Transaction created without account', function() {",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "        pm.expect(jsonData.accountId).to.be.null;",
                  "        pm.expect(jsonData.type).to.equal('EXPENSE');",
                  "    });",
                  "    console.log('âœ“ Transaction created without account link');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 500,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Food\",\n  \"subCategory\": \"Dining\",\n  \"source\": \"MANUAL\",\n  \"description\": \"Cash payment at restaurant\",\n  \"transactionDate\": \"2025-12-15T18:30:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "âœ¨ NEW: Create transaction without account. Transaction is created with accountId=null. Useful for cash transactions or when account doesn't exist yet."
          },
          "response": []
        },
        {
          "name": "âœ¨ Create Transaction - With Metadata (Auto-Create Account)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.test('Transaction created with auto-account', function() {",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "        pm.expect(jsonData.accountId).to.not.be.null;",
                  "        pm.expect(jsonData.bank).to.equal('HDFC');",
                  "        pm.expect(jsonData.maskedAccountNo).to.equal('XXXX1234');",
                  "    });",
                  "    console.log('âœ“ Account auto-created from transaction metadata');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 5000,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Shopping\",\n  \"subCategory\": \"Electronics\",\n  \"source\": \"MOBILE\",\n  \"description\": \"Card payment via SMS notification\",\n  \"bank\": \"HDFC\",\n  \"maskedAccountNo\": \"XXXX1234\",\n  \"merchant\": \"Amazon\",\n  \"provider\": \"BANK\",\n  \"transactionDate\": \"2025-12-16T14:20:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "âœ¨ NEW: Create transaction with bank metadata. System auto-creates account 'HDFC XXXX1234' and links transaction. Subsequent transactions with same metadata will match existing account."
          },
          "response": []
        },
        {
          "name": "âœ¨ Create Transaction - Match Existing by Metadata",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.test('Transaction matched to existing account', function() {",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "        pm.expect(jsonData.accountId).to.not.be.null;",
                  "        pm.expect(jsonData.bank).to.equal('HDFC');",
                  "    });",
                  "    console.log('âœ“ Transaction linked to existing account by metadata');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 1200,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Transportation\",\n  \"source\": \"MOBILE\",\n  \"description\": \"Fuel payment\",\n  \"bank\": \"HDFC\",\n  \"maskedAccountNo\": \"XXXX1234\",\n  \"provider\": \"BANK\",\n  \"transactionDate\": \"2025-12-17T09:15:00.000Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "âœ¨ NEW: Transaction with same bank metadata matches existing account. No duplicate account created. Demonstrates smart account matching."
          },
          "response": []
        },
        {
          "name": "âœ¨ Bulk Create - Mixed Account Scenarios (NEW)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.test('Bulk transactions with mixed accounts', function() {",
                  "        pm.expect(jsonData).to.have.property('count');",
                  "        pm.expect(jsonData).to.have.property('accountsLinked');",
                  "        pm.expect(jsonData).to.have.property('accountsUnlinked');",
                  "        pm.expect(jsonData.count).to.equal(4);",
                  "    });",
                  "    console.log('âœ“ Mixed bulk: ' + jsonData.accountsLinked + ' linked, ' + jsonData.accountsUnlinked + ' unlinked');",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactions\": [\n    {\n      \"accountId\": \"{{accountId}}\",\n      \"amount\": 10000,\n      \"type\": \"INCOME\",\n      \"category\": \"Salary\",\n      \"source\": \"BANK\",\n      \"description\": \"Explicit account ID provided\",\n      \"transactionDate\": \"2025-12-01T00:00:00.000Z\"\n    },\n    {\n      \"amount\": 2500,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Shopping\",\n      \"source\": \"MOBILE\",\n      \"description\": \"SMS transaction - auto-create account\",\n      \"bank\": \"ICICI\",\n      \"maskedAccountNo\": \"XXXX5678\",\n      \"provider\": \"BANK\",\n      \"transactionDate\": \"2025-12-10T00:00:00.000Z\"\n    },\n    {\n      \"amount\": 800,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Food\",\n      \"source\": \"MANUAL\",\n      \"description\": \"Cash payment - no account\",\n      \"transactionDate\": \"2025-12-11T00:00:00.000Z\"\n    },\n    {\n      \"amount\": 1500,\n      \"type\": \"EXPENSE\",\n      \"category\": \"Transportation\",\n      \"source\": \"MOBILE\",\n      \"description\": \"Second ICICI transaction - matches existing\",\n      \"bank\": \"ICICI\",\n      \"maskedAccountNo\": \"XXXX5678\",\n      \"provider\": \"BANK\",\n      \"transactionDate\": \"2025-12-12T00:00:00.000Z\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/bulk",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "bulk"
              ]
            },
            "description": "âœ¨ NEW: Demonstrates all account scenarios in bulk: explicit accountId, auto-create from metadata, no account, and metadata matching. Returns count of linked vs unlinked transactions."
          },
          "response": []
        },
        {
          "name": "Get All Transactions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ]
            },
            "description": "Get all transactions for authenticated user"
          },
          "response": []
        },
        {
          "name": "Get Transactions - Filter by Type (INCOME)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions?type=INCOME",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ],
              "query": [
                {
                  "key": "type",
                  "value": "INCOME"
                }
              ]
            },
            "description": "Filter transactions by type - INCOME only"
          },
          "response": []
        },
        {
          "name": "Get Transactions - Filter by Type (EXPENSE)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions?type=EXPENSE",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ],
              "query": [
                {
                  "key": "type",
                  "value": "EXPENSE"
                }
              ]
            },
            "description": "Filter transactions by type - EXPENSE only"
          },
          "response": []
        },
        {
          "name": "Get Transactions - Filter by Category",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions?category=Food",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ],
              "query": [
                {
                  "key": "category",
                  "value": "Food"
                }
              ]
            },
            "description": "Filter by category (case-insensitive partial match)"
          },
          "response": []
        },
        {
          "name": "Get Transactions - Filter by Account",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions?accountId={{accountId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ],
              "query": [
                {
                  "key": "accountId",
                  "value": "{{accountId}}"
                }
              ]
            },
            "description": "Filter transactions for specific account"
          },
          "response": []
        },
        {
          "name": "Get Transactions - Multiple Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions?type=EXPENSE&category=Food&accountId={{accountId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions"
              ],
              "query": [
                {
                  "key": "type",
                  "value": "EXPENSE"
                },
                {
                  "key": "category",
                  "value": "Food"
                },
                {
                  "key": "accountId",
                  "value": "{{accountId}}"
                }
              ]
            },
            "description": "Combine multiple filters (AND operation)"
          },
          "response": []
        },
        {
          "name": "Get Transaction by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/{{transactionId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "{{transactionId}}"
              ]
            },
            "description": "Get specific transaction with account details"
          },
          "response": []
        },
        {
          "name": "Get Transaction - Not Found",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/00000000-0000-0000-0000-000000000000",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "00000000-0000-0000-0000-000000000000"
              ]
            },
            "description": "Test with non-existent transaction ID - should return 404"
          },
          "response": []
        },
        {
          "name": "Delete Transaction",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/{{transactionId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "{{transactionId}}"
              ]
            },
            "description": "Delete a transaction by ID"
          },
          "response": []
        },
        {
          "name": "Delete Transaction - Already Deleted",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/transactions/{{transactionId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transactions",
                "{{transactionId}}"
              ]
            },
            "description": "Try to delete already deleted transaction - should return 404"
          },
          "response": []
        }
      ],
      "description": "Transaction management - Create, Read, Delete with filtering capabilities"
    },
    {
      "name": "Insights & Monthly Summary",
      "item": [
        {
          "name": "Get All Monthly Summaries",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "monthly"
              ]
            },
            "description": "Get all monthly summaries for authenticated user (ordered by year, month desc)"
          },
          "response": []
        },
        {
          "name": "Get Monthly Summaries - Filter by Year",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly?year=2025",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "monthly"
              ],
              "query": [
                {
                  "key": "year",
                  "value": "2025"
                }
              ]
            },
            "description": "Get monthly summaries for specific year"
          },
          "response": []
        },
        {
          "name": "Get Monthly Summaries - Filter by Month & Year",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly?year=2025&month=12",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "monthly"
              ],
              "query": [
                {
                  "key": "year",
                  "value": "2025"
                },
                {
                  "key": "month",
                  "value": "12"
                }
              ]
            },
            "description": "Get monthly summary for specific month and year"
          },
          "response": []
        },
        {
          "name": "Get Latest Monthly Summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly/latest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "monthly",
                "latest"
              ]
            },
            "description": "Get the most recent monthly summary with savings rate"
          },
          "response": []
        },
        {
          "name": "Get Latest - No Data",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly/latest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "monthly",
                "latest"
              ]
            },
            "description": "Test when no summaries exist - should return 404"
          },
          "response": []
        },
        {
          "name": "Get Yearly Summary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly/year/2025?year=2025",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "monthly",
                "year",
                "2025"
              ],
              "query": [
                {
                  "key": "year",
                  "value": "2025"
                }
              ]
            },
            "description": "Get aggregated yearly summary with monthly breakdown and category totals"
          },
          "response": []
        },
        {
          "name": "Get Yearly Summary - No Data",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/monthly/year/2024?year=2024",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "monthly",
                "year",
                "2024"
              ],
              "query": [
                {
                  "key": "year",
                  "value": "2024"
                }
              ]
            },
            "description": "Test with year that has no data - should return 404"
          },
          "response": []
        },
        {
          "name": "Get Category Breakdown - All Time",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/category-breakdown",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "category-breakdown"
              ]
            },
            "description": "Get expense category breakdown across all time periods"
          },
          "response": []
        },
        {
          "name": "Get Category Breakdown - By Year",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/category-breakdown?year=2025",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "category-breakdown"
              ],
              "query": [
                {
                  "key": "year",
                  "value": "2025"
                }
              ]
            },
            "description": "Get category breakdown for specific year with percentages"
          },
          "response": []
        },
        {
          "name": "Get Category Breakdown - By Month",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/category-breakdown?year=2025&month=12",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "category-breakdown"
              ],
              "query": [
                {
                  "key": "year",
                  "value": "2025"
                },
                {
                  "key": "month",
                  "value": "12"
                }
              ]
            },
            "description": "Get category breakdown for specific month"
          },
          "response": []
        },
        {
          "name": "Get Spending Trends - Last 6 Months",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/trends",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "trends"
              ]
            },
            "description": "Get spending trends for last 6 months (default) with averages"
          },
          "response": []
        },
        {
          "name": "Get Spending Trends - Last 12 Months",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/trends?months=12",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "trends"
              ],
              "query": [
                {
                  "key": "months",
                  "value": "12"
                }
              ]
            },
            "description": "Get spending trends for last 12 months"
          },
          "response": []
        },
        {
          "name": "Get Spending Trends - Last 3 Months",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/trends?months=3",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "trends"
              ],
              "query": [
                {
                  "key": "months",
                  "value": "3"
                }
              ]
            },
            "description": "Get spending trends for last 3 months"
          },
          "response": []
        },
        {
          "name": "Generate Monthly Summary - Manual",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"month\": 12,\n  \"year\": 2025\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/generate",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "generate"
              ]
            },
            "description": "Manually generate/regenerate monthly summary for specific period"
          },
          "response": []
        },
        {
          "name": "Generate Summary - Invalid Month",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"month\": 13,\n  \"year\": 2025\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/generate",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "generate"
              ]
            },
            "description": "Test with invalid month (must be 1-12) - should return 400"
          },
          "response": []
        },
        {
          "name": "Generate Summary - Missing Fields",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"month\": 12\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/insights/generate",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "insights",
                "generate"
              ]
            },
            "description": "Test with missing year field - should return 400"
          },
          "response": []
        },
        {
          "name": "Budget",
          "item": [
            {
              "name": "Update Budget",
              "request": {
                "method": "PATCH",
                "header": [],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"month\": 12,\n  \"year\": 2024,\n  \"budget\": 50000\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/insights/budget",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "insights",
                    "budget"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Budget",
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/insights/budget?month=12&year=2024",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "insights",
                    "budget"
                  ],
                  "query": [
                    {
                      "key": "month",
                      "value": "12"
                    },
                    {
                      "key": "year",
                      "value": "2024"
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        }
      ],
      "description": "Financial insights and analytics - monthly summaries, trends, and category analysis"
    },
    {
      "name": "Integration Tests",
      "item": [
        {
          "name": "Complete Flow - Account to Insights",
          "item": [
            {
              "name": "1. Login",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Login successful', function() {",
                      "    pm.response.to.have.status(200);",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('accessToken');",
                      "    pm.collectionVariables.set('accessToken', jsonData.accessToken);",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "noauth"
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"admin@koshpal.com\",\n  \"password\": \"password123\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/auth/login",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api",
                    "v1",
                    "auth",
                    "login"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "2. Create Bank Account",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Account created', function() {",
                      "    pm.response.to.have.status(201);",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('id');",
                      "    pm.collectionVariables.set('accountId', jsonData.id);",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"type\": \"BANK\",\n  \"provider\": \"Test Bank\",\n  \"maskedAccountNo\": \"****9999\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/accounts",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "accounts"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "3. Create Income Transaction",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Income transaction created', function() {",
                      "    pm.response.to.have.status(201);",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.type).to.equal('INCOME');",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 10000,\n  \"type\": \"INCOME\",\n  \"category\": \"Salary\",\n  \"source\": \"BANK\",\n  \"transactionDate\": \"2025-12-15T00:00:00.000Z\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/transactions",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "transactions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "4. Create Expense Transaction",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Expense transaction created', function() {",
                      "    pm.response.to.have.status(201);",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.type).to.equal('EXPENSE');",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 3000,\n  \"type\": \"EXPENSE\",\n  \"category\": \"Food\",\n  \"source\": \"BANK\",\n  \"transactionDate\": \"2025-12-15T00:00:00.000Z\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/transactions",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "transactions"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "5. Verify Account has Transactions",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Account has transactions', function() {",
                      "    pm.response.to.have.status(200);",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData._count.transactions).to.be.at.least(2);",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/accounts/{{accountId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "accounts",
                    "{{accountId}}"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "6. Get All Transactions",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Transactions retrieved', function() {",
                      "    pm.response.to.have.status(200);",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.be.an('array');",
                      "    pm.expect(jsonData.length).to.be.at.least(2);",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/transactions?accountId={{accountId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "transactions"
                  ],
                  "query": [
                    {
                      "key": "accountId",
                      "value": "{{accountId}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "7. Generate Monthly Summary",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Monthly summary generated', function() {",
                      "    pm.response.to.have.status(200);",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData).to.have.property('totalIncome');",
                      "    pm.expect(jsonData).to.have.property('totalExpense');",
                      "    pm.expect(jsonData).to.have.property('savings');",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"month\": 12,\n  \"year\": 2025\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api/v1/insights/generate",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "insights",
                    "generate"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "8. Verify Monthly Summary Exists",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "pm.test('Monthly summary exists', function() {",
                      "    pm.response.to.have.status(200);",
                      "    var jsonData = pm.response.json();",
                      "    pm.expect(jsonData.month).to.equal(12);",
                      "    pm.expect(jsonData.year).to.equal(2025);",
                      "    pm.expect(jsonData).to.have.property('savingsRate');",
                      "});"
                    ]
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/api/v1/insights/monthly/latest",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "insights",
                    "monthly",
                    "latest"
                  ]
                }
              },
              "response": []
            }
          ]
        }
      ],
      "description": "End-to-end integration tests for complete user workflows"
    },
    {
      "name": "Coaches & Consultations",
      "item": [
        {
          "name": "Employee - Get All Coaches",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/coaches",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "coaches"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Get Coach Slots",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/coaches/{{coachId}}/slots?date=2025-12-18",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "coaches",
                "{{coachId}}",
                "slots"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2025-12-18",
                  "description": "Date in YYYY-MM-DD format"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Book Consultation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"slotId\": \"{{slotId}}\",\n  \"notes\": \"Looking forward to discussing my financial goals\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/book",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                "book"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Get All My Consultations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Get Past Consultations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations?filter=past",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "past"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Get Upcoming Consultations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations?filter=upcoming",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "upcoming"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Get This Week Consultations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations?filter=thisWeek",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "thisWeek"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Get This Month Consultations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations?filter=thisMonth",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations"
              ],
              "query": [
                {
                  "key": "filter",
                  "value": "thisMonth"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Get Consultation Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/stats",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                "stats"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Employee - Get Latest Consultation",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{employeeToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/employee/consultations/latest",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "employee",
                "consultations",
                "latest"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Coach - Create Slots",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{coachToken}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"date\": \"2025-12-20\",\n  \"timeSlots\": [\n    {\n      \"startTime\": \"09:00\",\n      \"endTime\": \"10:00\"\n    },\n    {\n      \"startTime\": \"10:00\",\n      \"endTime\": \"11:00\"\n    },\n    {\n      \"startTime\": \"14:00\",\n      \"endTime\": \"15:00\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/slots",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "slots"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Coach - Get My Slots",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{coachToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/coach/slots?date=2025-12-18",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "coach",
                "slots"
              ],
              "query": [
                {
                  "key": "date",
                  "value": "2025-12-18",
                  "description": "Optional: Filter by specific date"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Coach - Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.accessToken) {",
                  "        pm.collectionVariables.set('coachToken', response.accessToken);",
                  "        pm.collectionVariables.set('refreshToken', response.refreshToken);",
                  "        console.log('Coach tokens saved');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"priya.sharma@koshpal.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "auth",
                "login"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ]
}